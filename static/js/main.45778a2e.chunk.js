(window["webpackJsonpgoit-react-hw-03-image-finder"]=window["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={searchForm:"searchForm_searchForm__25Equ",input:"searchForm_input__2yZts"}},12:function(e,t,a){e.exports={overlay:"modal_overlay__3GoLB",modal:"modal_modal__3OAHy"}},3:function(e,t,a){e.exports={photoCard:"photoCard_photoCard__1GVp9",img:"photoCard_img__2cjxq",stats:"photoCard_stats__2LC29",statsItem:"photoCard_statsItem__B_kLg",fullscreenButton:"photoCard_fullscreenButton__b6NPZ",icon:"photoCard_icon__3j1zR"}},30:function(e,t,a){e.exports={app:"app_app__WPEG2"}},31:function(e,t,a){e.exports={gallery:"gallery_gallery__3iak_"}},38:function(e,t,a){e.exports=a(84)},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),c=a.n(o),i=a(9),s=a(4),l=a(5),u=a(7),m=a(6),d=a(8),h=a(10),p=a(14),f=a(29),g=a.n(f),b=(a(64),a(30)),v=a.n(b),y=a(11),_=a.n(y),E=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchValue:""},a.handleInputChange=function(e){a.setState({searchValue:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onSearchSubmit(a.state.searchValue),a.setState({searchValue:""})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.searchValue;return r.a.createElement("form",{className:_.a.searchForm,onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",className:_.a.input,autoComplete:"off",placeholder:"Search images...",value:e,onChange:this.handleInputChange}))}}]),t}(n.Component),w=a(31),k=a.n(w),O=a(3),C=a.n(O),S=function(e){var t=e.webformatURL,a=e.likes,n=e.views,o=e.comments,c=e.downloads,i=e.onOpenModal;return r.a.createElement("div",{className:C.a.photoCard},r.a.createElement("img",{className:C.a.img,src:"".concat(t),alt:""}),r.a.createElement("div",{className:C.a.stats},r.a.createElement("p",{className:C.a.statsItem},r.a.createElement("i",{className:"material-icons"},"thumb_up"),a),r.a.createElement("p",{className:C.a.statsItem},r.a.createElement("i",{className:"material-icons"},"visibility"),n),r.a.createElement("p",{className:C.a.statsItem},r.a.createElement("i",{className:"material-icons"},"comment"),o),r.a.createElement("p",{className:C.a.statsItem},r.a.createElement("i",{className:"material-icons"},"cloud_download"),c)),r.a.createElement("button",{onClick:i,type:"button",className:C.a.fullscreenButton},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},j=function(e){var t=e.images,a=e.onOpenModal;return r.a.createElement("ul",{className:k.a.gallery},t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(S,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads,onOpenModal:function(){return a(e.id)}}))})))},L=a(12),x=a.n(L),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).backdropRef=Object(n.createRef)(),a.handleKeyPress=function(e){"Escape"===e.code&&a.props.onClose()},a.handleBackdropClick=function(e){var t=a.backdropRef.current;t&&e.target!==t||a.props.onClose()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",{role:"presentation",className:x.a.overlay,ref:this.backdropRef,onClick:this.handleBackdropClick},r.a.createElement("div",{className:x.a.modal},e))}}]),t}(n.Component),I=a(13),M=a.n(I),P=a(32),R=a(33),B=a.n(R),F="13750521-98de58ae00cb5cdd1ea1420ca",U=function(){var e=Object(P.a)(M.a.mark((function e(t){var a,n,r=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"nature",e.next=3,B.a.get("".concat("https://pixabay.com/api/","?key=").concat(F,"&q=").concat(a,"&per_page=12&page=").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function V(){var e=Object(h.a)(["\n  text-align: center;\n  font-weight: bold;\n  text-transform: uppercase;\n  color: #474545;\n"]);return V=function(){return e},e}function Q(){var e=Object(h.a)(["\n  padding: 8px 16px;\n  border-radius: 3px;\n  background-color: #3884ff;\n  transition: all 200ms ease;\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 16px;\n  line-height: 24px;\n  font-style: normal;\n  min-width: 180px;\n  margin-left: auto;\n  margin-right: auto;\n\n  &:hover,\n  &:focus {\n    background-color: #1f65d6;\n  }\n"]);return Q=function(){return e},e}var A=p.a.button(Q()),D=p.a.p(V()),q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={images:[],currentPage:1,searchQuery:"",isModalOpen:!1,checkedImageId:null,isLoading:!1,isError:!1},a.showLoader=function(){a.setState({isLoading:!0})},a.hideLoader=function(){a.setState({isLoading:!1})},a.handleSearchSubmit=function(e){a.setState({currentPage:1,searchQuery:e})},a.handleLoadMore=function(){a.setState((function(e){return{currentPage:e.currentPage+1}}))},a.handleOpenModal=function(e){a.setState({checkedImageId:e,isModalOpen:!0})},a.handleCloseModal=function(){a.setState({isModalOpen:!1})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.currentPage,n=t.searchQuery;this.showLoader(),U(a,n).then((function(t){e.setState({images:Object(i.a)(t.hits)})})).catch((function(){e.setState({isError:!0})})).finally((function(){e.hideLoader()}))}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.currentPage,o=n.searchQuery;t.searchQuery!==o&&(this.showLoader(),U(r,o).then((function(e){a.setState({images:Object(i.a)(e.hits)})})).catch((function(){a.setState({isError:!0})})).finally((function(){a.hideLoader()}))),t.currentPage!==r&&t.currentPage<r&&U(r,o).then((function(e){a.setState((function(t){return{images:[].concat(Object(i.a)(t.images),Object(i.a)(e.hits))}}))})).finally((function(){window.scrollBy({top:550,behavior:"smooth"})}))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.isModalOpen,n=e.checkedImageId,o=e.isLoading,c=e.isError,i=t.find((function(e){return e.id===n}));return r.a.createElement("div",{className:v.a.app},r.a.createElement(E,{onSearchSubmit:this.handleSearchSubmit}),c&&r.a.createElement(D,null,"Something went wrong! Please try later!"),o?r.a.createElement(g.a,{type:"Oval",color:"#00BFFF",height:100,width:100,style:{margin:"auto"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{images:t,onOpenModal:this.handleOpenModal}),r.a.createElement(A,{onClick:this.handleLoadMore},"Load more"),a&&r.a.createElement(N,{onClose:this.handleCloseModal},r.a.createElement("img",{src:i.largeImageURL,alt:""}))))}}]),t}(n.Component);a(83);c.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.45778a2e.chunk.js.map