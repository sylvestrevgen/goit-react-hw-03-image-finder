{"version":3,"sources":["components/SearchForm/searchForm.module.css","components/Modal/modal.module.css","components/PhotoCard/photoCard.module.css","components/App/app.module.css","components/Gallery/gallery.module.css","components/SearchForm/SearchForm.jsx","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/Modal/Modal.jsx","utils/urlSettings.js","services/images-api.js","components/App/App.jsx","index.js"],"names":["module","exports","SearchForm","state","searchValue","handleInputChange","event","setState","target","value","handleSubmit","preventDefault","props","onSearchSubmit","this","className","styles","searchForm","onSubmit","type","input","autoComplete","placeholder","onChange","Component","PhotoCard","webformatURL","likes","views","comments","downloads","onOpenModal","photoCard","img","src","alt","stats","statsItem","onClick","fullscreenButton","Gallery","images","gallery","map","key","id","largeImageURL","Modal","backdropRef","createRef","handleKeyPress","e","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","children","role","overlay","ref","modal","API_KEY","getImages","page","a","query","axios","get","response","data","LoadButton","styled","button","ErrorText","p","App","appRef","currentPage","searchQuery","isModalOpen","checkedImageId","isLoading","isError","getSnapshotBeforeUpdate","scrollHeight","showLoader","hideLoader","handleSearchSubmit","handleLoadMore","handleOpenModal","handleCloseModal","imagesAPI","then","hits","catch","finally","prevProps","prevState","snapshot","scrollTo","top","behavior","checkedImage","find","image","app","color","height","width","style","margin","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8eb8c40f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"searchForm_searchForm__25Equ\",\"input\":\"searchForm_input__2yZts\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__3GoLB\",\"modal\":\"modal_modal__3OAHy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"photoCard_photoCard__1GVp9\",\"img\":\"photoCard_img__2cjxq\",\"stats\":\"photoCard_stats__2LC29\",\"statsItem\":\"photoCard_statsItem__B_kLg\",\"fullscreenButton\":\"photoCard_fullscreenButton__b6NPZ\",\"icon\":\"photoCard_icon__3j1zR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__WPEG2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"gallery_gallery__3iak_\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './searchForm.module.css';\n\nexport default class SearchForm extends Component {\n  state = {\n    searchValue: '',\n  };\n\n  handleInputChange = event => {\n    this.setState({\n      searchValue: event.target.value,\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSearchSubmit(this.state.searchValue);\n    this.setState({\n      searchValue: '',\n    });\n  };\n\n  render() {\n    const { searchValue } = this.state;\n    return (\n      <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          className={styles.input}\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          value={searchValue}\n          onChange={this.handleInputChange}\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  onSearchSubmit: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './photoCard.module.css';\n\nconst PhotoCard = ({\n  webformatURL,\n  likes,\n  views,\n  comments,\n  downloads,\n  onOpenModal,\n}) => (\n  <div className={styles.photoCard}>\n    <img className={styles.img} src={`${webformatURL}`} alt=\"\" />\n\n    <div className={styles.stats}>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">thumb_up</i>\n        {likes}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">visibility</i>\n        {views}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">comment</i>\n        {comments}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">cloud_download</i>\n        {downloads}\n      </p>\n    </div>\n\n    <button\n      onClick={onOpenModal}\n      type=\"button\"\n      className={styles.fullscreenButton}\n    >\n      <i className=\"material-icons\">zoom_out_map</i>\n    </button>\n  </div>\n);\n\nPhotoCard.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './gallery.module.css';\nimport PhotoCard from '../PhotoCard/PhotoCard';\n\nconst Gallery = ({ images, onOpenModal }) => {\n  return (\n    <ul className={styles.gallery}>\n      {images.map(img => (\n        <li key={img.id}>\n          <PhotoCard\n            webformatURL={img.webformatURL}\n            largeImageURL={img.largeImageURL}\n            likes={img.likes}\n            views={img.views}\n            comments={img.comments}\n            downloads={img.downloads}\n            onOpenModal={() => onOpenModal(img.id)}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './modal.module.css';\n\nexport default class Modal extends Component {\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n\n    if (current && e.target !== current) {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { children } = this.props;\n    return (\n      <div\n        role=\"presentation\"\n        className={styles.overlay}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n      >\n        <div className={styles.modal}>{children}</div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.element.isRequired,\n    PropTypes.node.isRequired,\n  ]).isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","export const BASE_URL = `https://pixabay.com/api/`;\nexport const DEFAULT_QUERY = 'nature';\nexport const API_KEY = '13750521-98de58ae00cb5cdd1ea1420ca';\n","import axios from 'axios';\nimport { BASE_URL, DEFAULT_QUERY, API_KEY } from '../utils/urlSettings';\n\nexport const getImages = async (page, query = DEFAULT_QUERY) => {\n  const response = await axios.get(\n    `${BASE_URL}?key=${API_KEY}&q=${query}&per_page=12&page=${page}`,\n  );\n  return response.data;\n};\n\nexport const ghj = () => null;\n","import React, { Component, createRef } from 'react';\nimport styled from 'styled-components';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport styles from './app.module.css';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Gallery from '../Gallery/Gallery';\nimport Modal from '../Modal/Modal';\nimport * as imagesAPI from '../../services/images-api';\n\nconst LoadButton = styled.button`\n  padding: 8px 16px;\n  border-radius: 3px;\n  background-color: #3884ff;\n  transition: all 200ms ease;\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 16px;\n  line-height: 24px;\n  font-style: normal;\n  min-width: 180px;\n  margin-left: auto;\n  margin-right: auto;\n\n  &:hover,\n  &:focus {\n    background-color: #1f65d6;\n  }\n`;\n\nconst ErrorText = styled.p`\n  text-align: center;\n  font-weight: bold;\n  text-transform: uppercase;\n  color: #474545;\n`;\n\nexport default class App extends Component {\n  appRef = createRef();\n\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isModalOpen: false,\n    checkedImageId: null,\n    isLoading: false,\n    isError: false,\n  };\n\n  componentDidMount() {\n    const { currentPage, searchQuery } = this.state;\n    this.showLoader();\n    imagesAPI\n      .getImages(currentPage, searchQuery)\n      .then(data => {\n        this.setState({\n          images: [...data.hits],\n        });\n      })\n      .catch(() => {\n        this.setState({\n          isError: true,\n        });\n      })\n      .finally(() => {\n        this.hideLoader();\n      });\n  }\n\n  getSnapshotBeforeUpdate = () => {\n    return this.appRef.current.scrollHeight;\n  };\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const { currentPage, searchQuery } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.showLoader();\n      imagesAPI\n        .getImages(currentPage, searchQuery)\n        .then(data => {\n          this.setState({\n            images: [...data.hits],\n          });\n        })\n        .catch(() => {\n          this.setState({\n            isError: true,\n          });\n        })\n        .finally(() => {\n          this.hideLoader();\n        });\n    }\n\n    if (\n      prevState.currentPage !== currentPage &&\n      prevState.currentPage < currentPage\n    ) {\n      imagesAPI\n        .getImages(currentPage, searchQuery)\n        .then(data => {\n          this.setState(state => ({\n            images: [...state.images, ...data.hits],\n          }));\n        })\n        .finally(() => {\n          window.scrollTo({\n            top: snapshot - 60,\n            behavior: 'smooth',\n          });\n        });\n    }\n  }\n\n  showLoader = () => {\n    this.setState({\n      isLoading: true,\n    });\n  };\n\n  hideLoader = () => {\n    this.setState({\n      isLoading: false,\n    });\n  };\n\n  handleSearchSubmit = query => {\n    this.setState({\n      currentPage: 1,\n      searchQuery: query,\n    });\n  };\n\n  handleLoadMore = () => {\n    this.setState(state => ({\n      currentPage: state.currentPage + 1,\n    }));\n  };\n\n  handleOpenModal = id => {\n    this.setState({\n      checkedImageId: id,\n      isModalOpen: true,\n    });\n  };\n\n  handleCloseModal = () => {\n    this.setState({\n      isModalOpen: false,\n    });\n  };\n\n  render() {\n    const loaderStyles = { margin: 'auto' };\n    const {\n      images,\n      isModalOpen,\n      checkedImageId,\n      isLoading,\n      isError,\n    } = this.state;\n    const checkedImage = images.find(image => image.id === checkedImageId);\n\n    return (\n      <div className={styles.app} ref={this.appRef}>\n        <SearchForm onSearchSubmit={this.handleSearchSubmit} />\n        {isError && (\n          <ErrorText>Something went wrong! Please try later!</ErrorText>\n        )}\n        {isLoading ? (\n          <Loader\n            type=\"Oval\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            style={loaderStyles}\n          />\n        ) : (\n          <>\n            <Gallery images={images} onOpenModal={this.handleOpenModal} />\n            <LoadButton onClick={this.handleLoadMore}>Load more</LoadButton>\n            {isModalOpen && (\n              <Modal onClose={this.handleCloseModal}>\n                <img src={checkedImage.largeImageURL} alt=\"\" />\n              </Modal>\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}